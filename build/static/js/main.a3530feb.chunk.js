(this["webpackJsonptrivia-app"]=this["webpackJsonptrivia-app"]||[]).push([[0],{39:function(e,t,c){},40:function(e,t,c){},59:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),r=c(30),i=c.n(r),a=(c(39),c(7)),o=c(6),l=c(3),j=(c(40),c(33)),u=c.n(j),d=c(20),b=c.n(d),O=c(31),h=c.n(O),f=c(19),m=c.n(f),g=(c(59),c(0));var p=function(e){var t=e.updateFunc,c=e.currentScore,n=Object(s.useState)(c.questions[c.currentPoint]),r=Object(l.a)(n,2),i=r[0],o=r[1],j=Object(s.useState)([]),u=Object(l.a)(j,2),d=u[0],b=u[1];return Object(s.useEffect)((function(){o(c.questions[c.currentPoint])}),[c]),Object(s.useEffect)((function(){!function(){for(var e=Array.from(i.inCorrectAnswers.concat(i.correctAnswer)),t=0;t<e.length;t++){var c=Math.floor(Math.random()*(e.length-1-0))+0,s=e[t];e[t]=e[c],e[c]=s}b(e)}()}),[i]),Object(g.jsxs)("div",{className:"question",children:[Object(g.jsx)("div",{className:"questionType "+i.difficulty+"Type",children:Object(g.jsx)("p",{children:i.difficulty})}),Object(g.jsx)("p",{className:"questionName",children:i.question}),Object(g.jsx)("div",{className:"versions",children:d.map((function(e,s){return Object(g.jsx)("div",{className:"version",onClick:function(){!function(e){var s=c.currentPoint,n=c;if(n.questions[s].checkedAnswer=e,n.questions[s].correct=e==n.questions[s].correctAnswer,n.questions[s].randomedAnswers=Array.from(d),n.points+=e==n.questions[s].correctAnswer?1:0,s!=c.questions.length-1)n.currentPoint=s+1;else{var r=new Date,i=r.getFullYear()+"/"+(r.getMonth()+1)+"/"+r.getDate()+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds();n.finished=!0,n.endDate=i}t(Object(a.a)(Object(a.a)({},c),{},{changedState:n}))}(e)},children:Object(g.jsx)("p",{children:e})},s)}))})]})};var x=function(){var e=Object(s.useRef)(null),t=Object(s.useRef)(null),c=Object(s.useRef)(null),n=Object(s.useState)(JSON.parse(sessionStorage.getItem("score")?sessionStorage.getItem("score"):"[]")),r=Object(l.a)(n,2),i=r[0],j=r[1],d=Object(s.useState)(JSON.parse(sessionStorage.getItem("currentScore")?sessionStorage.getItem("currentScore"):"{}")),O=Object(l.a)(d,2),f=O[0],x=O[1],v=Object(s.useState)({}),N=Object(l.a)(v,2),S=N[0],y=N[1],q=Object(s.useState)([]),k=Object(l.a)(q,2),w=k[0],I=k[1],C=Object(s.useState)(-1),P=Object(l.a)(C,2),A=P[0],Q=P[1],T=Object(s.useState)(""),D=Object(l.a)(T,2),E=D[0],M=D[1],F=Object(s.useState)(""),J=Object(l.a)(F,2),B=J[0],L=J[1],R=Object(s.useState)(""),_=Object(l.a)(R,2),Y=_[0],H=_[1];Object(s.useEffect)((function(){m.a.get("https://opentdb.com/api_category.php").then((function(e){e.data.trivia_categories?I(e.data.trivia_categories):alert("Error")})).catch((function(e){console.log(e),alert("Error")}))}),[]),Object(s.useEffect)((function(){A>=0&&(W(),H("startActive"))}),[A]),Object(s.useEffect)((function(){f.finished?(j([].concat(Object(o.a)(i),[f])),sessionStorage.setItem("currentScore",JSON.stringify({}))):sessionStorage.setItem("currentScore",JSON.stringify(f))}),[f]),Object(s.useEffect)((function(){sessionStorage.setItem("score",JSON.stringify(i))}),[i]);var W=function(){t.current.classList.toggle("categorySelectorOptionsActive"),M(""==E||A>=0?"categorySelectorActive":""),L(B.includes("iconRotated")?A>=0?"iconBlack":"":"iconRotated iconBlack")},z=function(t){t?e.current.classList.add("showScoreInfoPart"):e.current.classList.remove("showScoreInfoPart")};return Object(s.useEffect)((function(){S.finished?z(!0):z(!1)}),[S]),Object(g.jsxs)("div",{className:"main",children:[Object(g.jsx)("h2",{children:f.started?f.finished?"Thank You":"Question "+(f.currentPoint+1):"Trivia App"}),f.started?f.finished?Object(g.jsxs)("div",{className:"startPart",children:[Object(g.jsx)("p",{className:"categoryTitle",children:"Your Score: "+f.points+" / 10"}),Object(g.jsx)("div",{className:"start startActive",onClick:function(){window.location.reload()},children:Object(g.jsx)("p",{children:"Back to home"})})]}):Object(g.jsx)(p,{updateFunc:x,currentScore:f}):Object(g.jsxs)("div",{className:"startPart",children:[Object(g.jsxs)("div",{className:i.length>0?"scorePart":"scorePart hideScorePart",children:[Object(g.jsx)("p",{className:"scoreTitle",children:"Score"}),Object(g.jsxs)("div",{className:"scoreTable",children:[Object(g.jsxs)("div",{className:"item headerPart",children:[Object(g.jsx)("p",{className:"score",children:"Score"}),Object(g.jsx)("p",{className:"date",children:"Date"})]}),Object(g.jsx)("div",{className:"scoreContent",children:i.map((function(e,t){return e.selectedQuestion=-1,Object(g.jsxs)("div",{className:"item",onClick:function(){return y(e)},children:[Object(g.jsx)("p",{className:"score",children:e.points+" / 10"}),Object(g.jsx)("p",{className:"date",children:e.endDate})]},t)}))})]})]}),Object(g.jsx)("div",{ref:e,className:"scoreInfoPart",children:Object(g.jsxs)("div",{className:"scoreInfoContent",children:[Object(g.jsx)("div",{className:"questionInfo "+(S.selectedQuestion>=0?"showQuestionInfo":""),onClick:function(e){e.target.className.includes("showQuestionInfo")&&y(Object(a.a)(Object(a.a)({},S),{},{selectedQuestion:-1}))},children:S.selectedQuestion>=0?Object(g.jsxs)("div",{className:"questionInfoContent "+(S.questions[S.selectedQuestion].correct?"correct":"incorrect"),children:[Object(g.jsx)("p",{className:"question",children:S.selectedQuestion+1+". "+S.questions[S.selectedQuestion].question}),Object(g.jsx)("div",{className:"answers",children:S.questions[S.selectedQuestion].randomedAnswers.map((function(e,t){return Object(g.jsxs)("div",{className:"answer",children:[e==S.questions[S.selectedQuestion].correctAnswer?Object(g.jsx)(h.a,{className:"icon correctIcon"}):e==S.questions[S.selectedQuestion].checkedAnswer?Object(g.jsx)(b.a,{className:"icon incorrectIcon"}):"",Object(g.jsx)("p",{children:t+1+") "+e})]},t)}))})]}):""}),Object(g.jsx)(b.a,{className:"scoreInfoCloseIcon",onClick:function(){return y({})}}),Object(g.jsx)("p",{className:"categoryName",children:S.category}),Object(g.jsx)("p",{className:"date",children:S.endDate}),Object(g.jsxs)("div",{className:"ScoreInfo",children:[Object(g.jsxs)("div",{className:"scoreMarks",children:[Object(g.jsxs)("div",{className:"markPart correctMark",children:[Object(g.jsx)("div",{className:"mark"}),Object(g.jsx)("p",{children:"Correct"})]}),Object(g.jsxs)("div",{className:"markPart inCorrectMark",children:[Object(g.jsx)("div",{className:"mark"}),Object(g.jsx)("p",{children:"Incorrect"})]})]}),Object(g.jsx)("p",{className:"score",children:S.points+" / 10"})]}),Object(g.jsx)("div",{className:"questions",children:S.questions?S.questions.map((function(e,t){return Object(g.jsx)("div",{className:"question "+(1==e.correct?"correct":"incorrect"),onClick:function(){y(Object(a.a)(Object(a.a)({},S),{},{selectedQuestion:t}))},children:Object(g.jsxs)("p",{children:[" ",t+1,".  ",e.question.toString().substring(0,25),e.question.length>20?"...":""]})},t)})):""})]})}),Object(g.jsx)("p",{className:i.length>0?"categoryTitle categoryTitleWithScore":"categoryTitle",children:"Pick a Category"}),Object(g.jsxs)("div",{className:"categorySelectorPart",children:[Object(g.jsxs)("div",{className:"categorySelector "+E,onClick:W,children:[Object(g.jsx)("p",{ref:c,children:A<0?"Category":w[A].name}),Object(g.jsx)(u.a,{className:"icon "+B})]}),Object(g.jsx)("div",{className:"categorySelectorOptions",ref:t,children:w.map((function(e,t){return Object(g.jsx)("div",{onClick:function(){Q(t)},className:"option",children:Object(g.jsx)("p",{children:e.name})},t)}))})]}),Object(g.jsx)("div",{className:"start "+Y,onClick:function(){A>=0&&m.a.get("https://opentdb.com/api.php?amount=10&category="+w[A].id).then((function(e){var t=new Date,c=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();x({points:0,started:!0,finished:!1,currentPoint:0,startDate:c,endDate:"",questions:e.data.results.map((function(e,t){return{question:e.question,correctAnswer:e.correct_answer,inCorrectAnswers:e.incorrect_answers,difficulty:e.difficulty,type:e.type,checkedAnswer:"",correct:!1}})),category:w[A].name,categoryId:w[A].id})})).catch((function(e){console.log(e)}))},children:Object(g.jsx)("p",{children:"Start"})})]})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,74)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(x,{})}),document.getElementById("root")),v()}},[[67,1,2]]]);
//# sourceMappingURL=main.a3530feb.chunk.js.map